---
layout: post
title:  "14주차 과제(W014-P) 회고"
date:   2020-12-04
author: MYOH(최은오)
categories: DBProgramming
---

이번 과제를 하며 느낀 개인적인 회고를 남긴다.  
과제 내용 요약 _"MongoDB 사용해보기"_   
이번 시간에는 MongoDB를 설치하고 document를 조회, 추가, 수정, 삭제하는 실습을 진행하였다.

1. 새로 배운 내용
    - NoSQL  
      RDBMS의 안전성 등의 기능을 포기하는 대신 확장성과 성능을 강조한 새로운 형태의 데이터베이스다. 확장성은 작게 시작해 크게 키울 수 있는, 환경에 따라 DB의 구조를 변화시킬 수 있는 특성이고 성능은 많이 저장할 수록 성능이 떨어지는 RDBMS와 다르게 빠르게 저장하고 빠르게 보여줄 수 있는 특성을 말한다.  
    - MongoDB  
      2009년 발표된 크로스 플랫폼 document 지향 DB 시스템. 데이터를 table 형태가 아니라  
      {id : 1, name : myoh} 식으로 저장한다. BSON구조라 불린다. (Binary JSON)  
      데이터를 일단 메모리에 저장했다가 순차적으로 주기억장치에 반영한다. 대용량 데이터를 빠르게 다룰 수 있으나 실제 반영되는 시간은 조금 걸린다. 메모리에 저장된 것이 주기억장치로 반영되기 전에 문제가 생기면 이전 작업이 날아갈 수 있다는 문제점이 있다.  
      그래서 같은 DB를 복제해 여러 군데에 두거나 하나의 데이터를 여러 곳에 분산해 저장하는 분산 처리 방식을 사용해 안전성을 확보한다.
    - V8  
      구글에서 만든 자바스크립트를 동작시킬 수 있는 엔진이다. 자바스크립트로 컴퓨터를 제어할 수 있게 된 것이다!  

2. 발생한 문제와 해결 과정
    - csv 파일 mongoDB에 import하기  
      기말고사 프로젝트에서 사용할 예정일(지도 모르는) 데이터 셋을 가지고 실습을 진행하기 위해 서울 데이터광장에서 월 단위로 공공자전거 대여소별 이용정보를 다운로드 받았다. 이 csv 파일을 import하는 절차 자체는 굉장히 단순했다. 그냥 파일을 가져와 한 두가지 설정 후에 import해주면 되기 때문이다. 그런데 import를 하니 한글이 모두 깨져 나왔다. 이럴수가! 바로 구글에 검색했다. 인코딩 방식이 맞지 않아 발생한 문제인 듯 했다.  
      자료를 검색해보니 한글이 담긴 csv 파일을 import할 때 깨짐 없이 key : value 쌍으로 잘 나오게 하려면 csv 파일을 일단 메모장으로 연 후 그 파일을 다른 이름으로 저장할 때 인코딩 방식을 UTF-8로 설정해주면 된다. 잘 보면 ANSI로 되어있는데 이걸 바꿔주면 되는 것.  
      그렇게 새로 저장한 파일을 import하니 깨짐없이 잘 나왔다. 해결!   
3. 참고할 만한 내용  
    [mongoDB(몽고)에 csv 파일을 import 시키면 한글이 깨져나와요](https://okky.kr/article/335261)
    csv 파일을 mongoDB로 import하기 위한 방법을 찾던 중 발견한 글이다. 아주 큰 도움이 됐다.
4. 회고
  - 좋았던 점(+)  
    NoSQL을 처음 접해보았는데 굉장히 흥미로웠다. 변수도 사용하고 toArray() 같은 함수나 [0] 같이 인덱스 접근하는 게 꼭 자바스크립트로 프로그램을 짜는 것 같아서 재미있었다. 
  - 아쉬웠던 점(-)  
    이번 시간은 크게 아쉬운 점은 남지 않는다. 이전까지 사용하던 SQL과는 다른 문법에 당황스러워 오타를 많이 내 기분이 좀 상했다.~~이건 아쉬움이 아닌 것 같다.~~ 전에 node.js로 개발해본 적이 있었는데 그 때 mongoDB를 사용해봤다면 더 재미있었을텐데...하는 생각이 문득 들었다. 이것도 나름 아쉬움(?)
  - 새로 알게된 점(!)  
    1. MongoDB의 몇 가지 명령어  
      조회하기 : `db.myCollection.find()`  
      추가하기 : `db.myCollection.insertOne()`  
      수정하기 : `db.myCollection.replaceOne()`, `db.myCollection.updateOne()`  
      삭제하기: `db.myCollection.deleteOne()`  
    2. mongoDB의 커서  
      포인터같은 개념이다. 찾고자 하는 데이터의 위치를 가리키는데 직접 가져오지 않아도 위치값으로 데이터에 접근이 가능하다. next()를 사용해 다음 데이터에 접근할 수 있다. 일정 시간이 지나면 없어지는 특징이 있다. 참고로 필요한 데이터를 직접 가져오고 싶다면 toArray()를 사용해 배열 형태로 가져올 수 있다.  
  - 과제 영상  
    이번 주 과제의 시뮬레이션 영상을 첨부한다.  
    [과제 영상 보러가기](https://youtu.be/sGRHfNi2tkc)