---
layout: post
title: 컴퓨터 네트워크 실습 - 네트워크 계층
date: 2021-03-17
author: OH
categories: ComputerNetworking
---

#### 오늘의 주제 : 네트워크 계층



**네트워크는 너무 복잡하다! 아주 다양한 요소로 이뤄져 있다.** 

호스트, 라우터, 어플리케이션, 프로토콜, 하드웨어 등등...  





**네트워크를 어떻게 조직화해 설명할 수 있을까?** 

비행기를 타기까지의 과정을 이야기해보면  

티켓 구매  

짐 체크  

게이트 통과해 비행기 탑승  

이륙  

비행기가 미국까지 도착(airplane routing)

착륙  

게이트 빠져나오기  

짐 찾기  



이런 과정을 거친다.  

이 과정을 구조화한다면  

티켓 구매  

짐 체크 - 짐 찾기  

게이트 통과 - 게이트 통과  

이륙 - 착륙  

이런 하나하나의 계층들이 서로 다른 서비스(티켓 서비스, 짐 서비스, 게이트 서비스 등)를 구현하게 되고 내부적으로 액션을 수행하게 된다.  그리고 계층 간 순서도 존재한다. (짐 서비스 이후에 게이트 서비스가 가능)  





**계층화?**

복잡한 시스템을 디자인하기 위함.  

각 구성 요소들 간의 관계, 각 구성 요소가 뭘 하는지를 확실하게 정리를 할 수 있음.  



계층화는 또 일종의 모듈화로 볼 수도 있다. 기능 별로 나눠놨다고 생각할 수도 있음.  

모듈화 = 유지보수, 시스템 업데이트를 하는데 유리하다!  



 **layered Internet protocol stack**  

application  

네트워크 어플리케이션을 support하는 계층. HTTP, IMAP, SMTP, DNS 등  

transport

프로세스 대 프로세스의 데이터 transfer에 관한 프로토콜 정의하는 계층.  

OS 관점에서 응용 프로그램이 프로세스인 것처럼 한 호스트의 네트워크 어플리케이션의 한 프로세스 -> 다른 호스트 어플리케이션의 프로세스 사이의 데이터 전송에 관한 프로토콜임. TCP, UDP 등   

network  

소스에서 목적지까지 패킷이 갈 수 있는 경로를 잘 알려줘야 되는데  

이 역할을 하는게 network 계층.  

link  

하나의 지점과 다른 지점을 잇는, 이웃해 있는 애들 사이의 데이터 전송을 책임지는 프로토콜 계층.  이더넷, WIFI, PPP 등  

physical  

가장 물리적인 것과 가까움. 실제 와이어, 전선 등  

단위가 bit임.  

한 점에서 다른 점으로 보내는 프로토콜을 정의.  



**서비스가 이뤄지는 과정**  

소스가 목적지로 메시지를 보내보자.  



*application*  

application 계층에서 메시지를 보낸다.  



*transport*  

transport 계층에 오면 소스 어플리케이션 프로세스에서 다른 어플리케이션 프로세스로 보내기 위해 각 레이어에서 프로토콜을 처리하기 위한 헤더를 포함함.  

network layer의 기능을 활용해 transport layer를 구현함.  



** transport-layer : 메시지를 encapsulation함. 필요한 헤더를 넣어 하나의 데이터인 것처럼 캡슐화. 헤더와 메시지가 합쳐진 것 = segment라고 함.  



*network*  

network layer에서는 segment에 네트워크 계층에서 필요한 정보 가진 network layer header 붙여서 캡슐화 -> datagram이라 함.  



*link*  

link layer에서는 ???  

datagram에 link layer에서 사용하는 헤더 붙여 캡슐화 -> frame이라 함.  



이 정보를 목적지에서는 physical -> link -> network 계층으로 이동하며 캡슐을 까서 확인한 후 application layer에서는 메시지만 전달됨.  











